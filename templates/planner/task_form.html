{% extends "base.html" %}
{% load crispy_forms_filters %}
{% load widget_tweaks %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
  <br>
  <h1 class="d-flex justify-content-center display-3">
    {{ object|yesno:"Edit ,Create new task" }}{{ task.name }}
  </h1>
  <br>
  <div class="card card-body border-0 shadow mb-4">
    {% if object %}
      <p class="text-uppercase text-muted h4">Description:
        <span class="fw-bold h5">{{ task.description }}</span>
      </p>
      <p class="text-uppercase text-muted h4">Deadline:
        <span class="fw-bold h5">{{ task.deadline }}</span>
      </p>
      <p class="text-uppercase text-muted h4">Is completed:
        {% if task.is_completed %}
          <span class="fw-normal text-success">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon me-2 mb-1">
        <path fill-rule="evenodd"
              d="M19.916 4.626a.75.75 0 0 1 .208 1.04l-9 13.5a.75.75 0 0 1-1.154.114l-6-6a.75.75 0 0 1 1.06-1.06l5.353 5.353 8.493-12.74a.75.75 0 0 1 1.04-.207Z"
              clip-rule="evenodd"></path>
      </svg>

      </span>
        {% else %}
          <span class="fw-normal text-danger">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="icon me-2 mb-1">
        <path fill-rule="evenodd"
              d="m6.72 5.66 11.62 11.62A8.25 8.25 0 0 0 6.72 5.66Zm10.56 12.68L5.66 6.72a8.25 8.25 0 0 0 11.62 11.62ZM5.105 5.106c3.807-3.808 9.98-3.808 13.788 0 3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788Z"
              clip-rule="evenodd"></path>
      </svg>

      </span>
        {% endif %}
      </p>
      <p class="text-uppercase text-muted h4">Priority:
        {% if task.priority == "low" or task.priority == "medium" or task.priority == "Low" or task.priority == "Medium" %}
          <span class="fw-bold h5 text-success">{{ task.priority }}</span>
        {% else %}
          <span class="fw-bold h5 text-danger">{{ task.priority }}</span>
        {% endif %}
      </p>
      <p class="text-uppercase text-muted h4">Task type:
        <span class="fw-bold h5">{{ task.task_type }}</span>
      </p>
      {% if task.assignees.all %}
        {% for worker in task.assignees.all %}
          <div class="ms-sm-3"><span class="badge super-badge bg-light">{{ worker.username }}</span></div>
        {% endfor %}
      {% endif %}
    {% endif %}

    <form method="post" action="" novalidate class="mt-5">
      {% csrf_token %}

      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            {{ form.name|as_crispy_field }}
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div>
            {{ form.deadline|as_crispy_field }}
          </div>
        </div>
      </div>
      <hr>

      <div class="row">
        <div class="col-md-6 mb-3">
          <div class="form-group">
            {{ form.description|as_crispy_field }}
          </div>
        </div>
        <div class="col-md-6 mb-3">
          <div class="form-group">
            {{ form.priority|as_crispy_field }}
          </div>
          <div class="mt-2 d-flex justify-content-between">
            <label for="{{ form.task_type.id_for_label }}">Task Type*</label>
            <a href="#" class="p">+ Add new Task Type</a>
          </div>
          {{ form.task_type|as_crispy_field }}
      </div>
        </div>
      <hr>

      <div class="row">
        <div class="col-md-6 mb-3 form-check">
          <div>
            {{ form.assignees|as_crispy_field }}
          </div>
        </div>
        
      </div>
      <hr>
      
      <div class="row">
        <div class="col-md-6 mb-3 form-check form-switch">
          <div class="">
            {{ form.is_completed|as_crispy_field }}
          </div>
        </div>
      </div>
      <div class="mt-3">
        <button class="btn btn-gray-800 mt-2 animate-up-2" type="submit">Save all</button>
      </div>
    </form>
  </div>


{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
